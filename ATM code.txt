#include <iostream>
using namespace std;

int main() {
int PIN = 1234, n, attempts = 1, Choice, withdraw, Deposit, enteredPIN, lastTransaction = 0;
bool access_granted = false;
float Balance = 999.99;

    cout << "\tATM" << endl;
    cout << "\tWelcome User!" << endl;
    cout << "Instructions For You:" << endl;
    cout << "\t>Please enter your PIN carefully. You have only 3 attempts to enter the correct PIN" << endl;
    cout << "\t>If you enter the wrong pin 3 times, your ATM will be locked for security reasons." << endl;
    cout << "\t>Do not share your PIN with anyone to keep your account safe." << endl;
    cout << "Enter 1 to proceed:";
    cin >> n;

if (n == 1) 
{
while (attempts <= 3) {
cout << "Enter your PIN:" << endl;
cin >> enteredPIN;

if (enteredPIN == PIN) {
cout << "Correct! Loading Main Menu......" << endl;
access_granted = true; // fixed: removed 'bool' keyword
break;
} 
else 
{
cout << "Incorrect PIN" << endl;
access_granted = false;
attempts++;
}
}

if (access_granted == false) { // fixed: use '==' for comparison
cout << "Your ATM is locked due to 3 failed attempts" << endl;
} else if (access_granted == true) { // fixed: use 'else if' and '=='
do {
cout << "------Main Menu------" << endl;
cout << "1. Check Balance" << endl;
cout << "2. Deposit money" << endl;
cout << "3. Withdraw Money" << endl;
cout << "4. Mini statement (Show last transaction)" << endl;
\cout << "5. Exit" << endl;
cout << "Enter Your Choice:" << endl;
cin >> Choice;

switch (Choice) 
{ 
case 1:
cout << "Your Current Balance is:" << Balance << endl;
break;
case 2:
cout << "Enter the amount you want to deposit:";
cin >> Deposit;
Balance = Balance + Deposit;
lastTransaction = Deposit;
break;
case 3:
cout << "\nEnter the amount you want to withdraw:";
cin >> withdraw;
if (withdraw <= Balance) {
Balance = Balance - withdraw;
lastTransaction = -withdraw; // fixed: make withdrawal negative
cout << "Withdrawal Successful!" << endl;

}
 else
  {
cout << "Not enough balance :(" << endl;
}
break;
case 4:
if (lastTransaction > 0)
cout << "Last transaction: Deposited " << lastTransaction << endl;
else if (lastTransaction < 0)
cout << "Last transaction: Withdrew " << -lastTransaction << endl;
else
cout << "No transactions yet." << endl;
break;
case 5:
cout << "Thank you for using the ATM. Goodbye!" << endl;
break;
default:
cout << "Invalid choice. Please try again." << endl;
}
} 
while (Choice != 5); 
        }
    } else
     {
cout << "Session terminated. Goodbye!" << endl;
    }

    return 0;
}